Refactored test case structure for better modularity.
